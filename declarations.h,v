head	1.12;
access;
symbols;
locks
	root:1.12; strict;
comment	@ * @;


1.12
date	2022.08.22.16.24.13;	author root;	state Exp;
branches;
next	1.11;

1.11
date	2022.08.22.16.14.22;	author root;	state Exp;
branches;
next	1.10;

1.10
date	2022.08.14.18.57.31;	author root;	state Exp;
branches;
next	1.9;

1.9
date	2022.08.13.17.32.24;	author root;	state Exp;
branches;
next	1.8;

1.8
date	2022.08.13.14.55.55;	author root;	state Exp;
branches;
next	1.7;

1.7
date	2022.08.11.20.14.10;	author root;	state Exp;
branches;
next	1.6;

1.6
date	2022.08.11.15.29.57;	author root;	state Exp;
branches;
next	1.5;

1.5
date	2022.08.11.11.55.05;	author root;	state Exp;
branches;
next	1.4;

1.4
date	2022.08.09.15.45.43;	author root;	state Exp;
branches;
next	1.3;

1.3
date	2022.07.25.14.32.21;	author amanp;	state Exp;
branches;
next	1.2;

1.2
date	2022.07.25.14.05.29;	author root;	state Exp;
branches;
next	1.1;

1.1
date	2022.07.25.13.22.49;	author amanp;	state Exp;
branches;
next	;


desc
@All macro, extern variable and structure are decralared here
@


1.12
log
@typo
@
text
@#ifndef DEBUG
#define DEBUG
#endif

#ifndef MAJORNO
#define MAJORNO 0
#endif

#ifndef MINORNO
#define MINORNO 0
#endif

#ifndef NOD
#define NOD 20
#endif

#ifndef DEVICESIZE
#define DEVICESIZE  256
#endif

#ifndef DATASIZE
#define DATASIZE 0
#endif

#ifndef REGISTERSIZE
#define REGISTERSIZE  4
#endif

#ifndef NOOFREGISTER
#define NOOFREGISTER  4
#endif

#ifndef DEVNAME
#define DEVNAME  "AmanDev-cdd"
#endif


extern int majorNo;
extern int minorNo;
extern int nod;
extern int deviceSize;
extern int dataSize;
extern int registerSize;
extern int noofRegisters;
extern dev_t devid;
extern dev_t devno;

typedef struct QSET
{
       struct QSET *next;
       void **data;	
}Qset;

typedef struct DEV
{
	Qset *first;
        struct cdev c_dev;
	int deviceSize;
	int dataSize;
	int registerSize;
	int noofRegisters;
//	struct semaphore sem;
//	struct completion cmplsn;
        wait_queue_head_t myqueue;
}Dev;

extern Dev *dev;
int openDevice(struct inode *,struct file *);
int releaseDevice(struct inode *,struct file *);
int trimDevice(Dev *);
ssize_t writeDevice(struct file *, const char __user *, size_t , loff_t *);
ssize_t readDevice(struct file *, char __user *, size_t , loff_t *);
Qset * createScull(size_t);
long ioctlDevice(struct file*, unsigned int, unsigned long);

@


1.11
log
@*** empty log message ***
@
text
@d74 1
a74 1
long ioctlDevice(struct file*, unsigned int, unsigned lomg);
@


1.10
log
@added header file for Blocking IO
@
text
@d74 1
@


1.9
log
@added header file for completion
@
text
@d63 2
a64 1
	struct completion cmplsn;
@


1.8
log
@*** empty log message ***
@
text
@d62 2
a63 1
	struct semaphore sem;
@


1.7
log
@*** empty log message ***
@
text
@d62 1
@


1.6
log
@*** empty log message ***
@
text
@d14 1
a14 1
#define NOD 1
d18 1
a18 1
#define DEVICESIZE 100
d26 1
a26 1
#define REGISTERSIZE  2
d70 1
a70 1

@


1.5
log
@*** empty log message ***
@
text
@d68 4
@


1.4
log
@*** empty log message ***
@
text
@d26 1
a26 1
#define REGISTERSIZE  4
d67 1
@


1.3
log
@*** empty log message ***
@
text
@d1 4
d32 1
d37 1
d65 2
@


1.2
log
@*** empty log message ***
@
text
@d51 1
a51 1
        struct cdev C_dev;
@


1.1
log
@Initial revision
@
text
@d51 1
d57 2
@
